<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="index.html"><strong aria-hidden="true">1.</strong> The Sensor Watch</a></li><li class="chapter-item expanded "><a href="firmware/index.html"><strong aria-hidden="true">2.</strong> Firmware Info</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="firmware/prebuilt.html"><strong aria-hidden="true">2.1.</strong> Prebuilt Firmware for Sensor Watch</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.2.</strong> Building Sensor Watch Firmware</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.3.</strong> Building for the Sensor Watch Emulator</div></li></ol></li><li class="chapter-item expanded "><a href="sensorboards/index.html"><strong aria-hidden="true">3.</strong> Sensor Boards</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="sensorboards/temperature.html"><strong aria-hidden="true">3.1.</strong> Temperature + GPIO Sensor Board</a></li></ol></li><li class="chapter-item expanded "><a href="movement/index.html"><strong aria-hidden="true">4.</strong> More about Movement</a></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">4.1.</strong> Writing a watch face for Movement</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.2.</strong> Contributing to the Community Firmware</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.3.</strong> Tips and tricks for Movement</div></li></ol></li><li class="chapter-item expanded "><a href="wig/index.html"><strong aria-hidden="true">5.</strong> Watch Interface Guidelines (WIG)</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="wig/bigpicture.html"><strong aria-hidden="true">5.1.</strong> Big Picture Stuff</a></li><li class="chapter-item expanded "><a href="wig/display.html"><strong aria-hidden="true">5.2.</strong> Sensor Watch Display</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.3.</strong> Sensor Watch Buttons</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.4.</strong> Sensor Watch Power Management</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> Putting It All Together</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-sensor-watch"><a class="header" href="#the-sensor-watch">The Sensor Watch</a></h1>
<p>The Sensor Watch is a board replacement for the classic Casio F‑91W wristwatch. It is powered by a Microchip SAM L22 microcontroller with built-in segment LCD controller. You can write your own programs for the watch using the provided watch library, program the watch over USB using the built-in UF2 bootloader, and then install the board in your existing watch case to run your own software on your wrist.</p>
<p><img src="images/sensor-watch.jpg" alt="Photo: a close-up of the Sensor Watch circuit board, and a wristwatch displaying the word “Hello”" /></p>
<p>Features:</p>
<ul>
<li>ARM Cortex M0+ microcontroller</li>
<li>32KHz crystal for real-time clock with alarm function</li>
<li>Ten digit segment LCD, plus five indicator segments</li>
<li>Three interrupt capable buttons</li>
<li>Red / green PWM’able LED backlight</li>
<li>Optional piezo buzzer (requires some light soldering)</li>
<li>On-board USB Micro B connector</li>
<li>Reset button with double-tap UF2 bootloader</li>
<li>Nine-pin flex PCB connector</li>
</ul>
<p><img src="images/sensor-board.png" alt="Rendering: an L-shaped flex PCB labeled “Sensor Watch Environment”" /></p>
<p>You may have noticed that there are no sensors on this board. That is by design: rather than pick sensors for you, the goal is to add a tiny flexible PCB with the sensors YOU want, and interface them over the nine-pin connector. The connector provides the following options for power and connectivity:</p>
<ul>
<li>3V power (nominal voltage from a CR2016 coin cell, can drop to ~2.7V)</li>
<li>An I²C interface with built-in pull-up resistors</li>
<li>Five general purpose IO pins, which can be configured as:
<ul>
<li>Five analog inputs</li>
<li>Five interrupt-capable digital inputs, with internal pull-up or pull-down resistors</li>
<li>Five digital outputs</li>
<li>SPI controller (with one spare analog / GPIO pin leftover)</li>
<li>One UART TX/RX pair (with three GPIO leftover)</li>
<li>Up to four PWM pins on two independent TC instances</li>
<li>Two external wake inputs that can wake from the ultra-low-power BACKUP mode</li>
</ul>
</li>
</ul>
<table><thead><tr><th style="text-align: center"><strong>Pin</strong></th><th style="text-align: center"><strong>Digital</strong></th><th style="text-align: center"><strong>Interrupt</strong></th><th style="text-align: center"><strong>Analog</strong></th><th style="text-align: center"><strong>I2C</strong></th><th style="text-align: center"><strong>SPI</strong></th><th style="text-align: center"><strong>UART</strong></th><th style="text-align: center"><strong>PWM</strong></th><th style="text-align: center"><strong>Ext. Wake</strong></th></tr></thead><tbody>
<tr><td style="text-align: center"><strong>A0</strong></td><td style="text-align: center">PB04</td><td style="text-align: center">EIC/EXTINT[4]</td><td style="text-align: center">ADC/AIN[12]</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>SCL</strong></td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">SCL<br>SERCOM1[1]</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>SDA</strong></td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">SDA<br>SERCOM1[0]</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>A1</strong></td><td style="text-align: center">PB01</td><td style="text-align: center">EIC/EXTINT[1]</td><td style="text-align: center">ADC/AIN[9]</td><td style="text-align: center">—</td><td style="text-align: center">SCK<br>SERCOM3[3]</td><td style="text-align: center">RX<br>SERCOM3[3]</td><td style="text-align: center">TC3[1]</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>A2</strong></td><td style="text-align: center">PB02</td><td style="text-align: center">EIC/EXTINT[2]</td><td style="text-align: center">ADC/AIN[10]</td><td style="text-align: center">—</td><td style="text-align: center">MOSI<br>SERCOM3[0]</td><td style="text-align: center">TX or RX<br>SERCOM3[0]</td><td style="text-align: center">TC2[0]</td><td style="text-align: center">RTC/IN[1]</td></tr>
<tr><td style="text-align: center"><strong>A3</strong></td><td style="text-align: center">PB03</td><td style="text-align: center">EIC/EXTINT[3]</td><td style="text-align: center">ADC/AIN[11]</td><td style="text-align: center">—</td><td style="text-align: center">CS<br>SERCOM3[1]</td><td style="text-align: center">RX<br>SERCOM3[1]</td><td style="text-align: center">TC2[1]</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>A4</strong></td><td style="text-align: center">PB00</td><td style="text-align: center">EIC/EXTINT[0]</td><td style="text-align: center">ADC/AIN[8]</td><td style="text-align: center">—</td><td style="text-align: center">MISO<br>SERCOM3[2]</td><td style="text-align: center">TX or RX<br>SERCOM3[2]</td><td style="text-align: center">TC3[0]</td><td style="text-align: center">RTC/IN[0]</td></tr>
</tbody></table>
<p>These tiny “sensor boards” have a set outline, and the available area for your electronics is quite small (5.7 × 5.7 × 1 mm). Still, this is plenty of room for an environmental sensor, MEMS accelerometer or magnetometer and a couple of decoupling capacitors. Note that you will likely be limited to QFN and LGA type parts; SOICs are too large, and even SSOP packages are generally too thick. You can find reference designs for several sensor boards in <a href="https://github.com/joeycastillo/Sensor-Watch/tree/main/PCB/Sensor%20Boards">the PCB/Sensor Boards directory</a> in the Sensor Watch repository.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sensor-watch-firmware"><a class="header" href="#sensor-watch-firmware">Sensor Watch Firmware</a></h1>
<p>While you can build any number of bare-metal applications for Sensor Watch, when we refer to the Sensor Watch firmware, we're really talking about <em>Movement</em>, the community firmware for Sensor Watch. You can read more about Movement <a href="firmware/">here</a>; for now, the important thing to know is that it manages a series of <em>watch faces</em> that you advance through using the <em>mode</em> button. It's a very similar idiom to the classic Casio F-91W, which advances from <code>Clock -&gt; Alarm -&gt; Stopwatch -&gt; Time Set</code>, and then wraps around to <code>Clock</code>.</p>
<p>Movement offers many more watch faces — some of which, like World Clock, you can include more than once! Still: you'd be pressing the Mode button for hours if we included them all, so instead, we only build a subset of the available faces into any given firmware. This means that you can <a href="firmware/">download an alternate firmware</a> that includes the kind of functionality you want, or <a href="firmware/">build custom firmware</a> that includes just the watch faces you desire.</p>
<ul>
<li><a href="firmware/prebuilt.html">Download prebuilt firmware for Sensor Watch</a></li>
<li><a href="firmware/building.html">Building custom firmware for Sensor Watch</a></li>
<li><a href="firmware/emulator.html">Building custom firmware for the Sensor Watch Emulator</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="prebuilt-alternative-firmware-for-sensor-watch"><a class="header" href="#prebuilt-alternative-firmware-for-sensor-watch">Prebuilt Alternative Firmware for Sensor Watch</a></h1>
<p>This section contains the stock firmware for Sensor Watch, as well as several prebuilt firmware images featuring an alternative set of watch faces.</p>
<h3 id="prebuilt-firmwares"><a class="header" href="#prebuilt-firmwares">Prebuilt Firmwares</a></h3>
<p>Note that each fimware comes in two flavors, depending on the color of your circuit board. This is because blue boards have a red/blue LED and green boards have a red/green LED, and the pins are swapped. No damage will result from loading the wrong firmware onto your board, but the LED colors will be wrong. </p>
<p>Also note that all of these have the &quot;Preferences&quot; and &quot;Time Set&quot; screens at the end; for brevity they aren't included in this listing, but you will always have access to them.</p>
<ul>
<li><a href="firmware/prebuilt.html#movement-standard">Movement Standard</a>: Simple Clock, World Clock, Sunrise/Sunset, Moon Phase, Temperature</li>
<li><a href="firmware/prebuilt.html#focus">Focus</a>: Simple Clock, Tomato Timer, Stopwatch, Countdown</li>
<li><a href="firmware/prebuilt.html#the-athlete">The Athlete</a>: Simple Clock, Stopwatch, Countdown, Exercise Counter, Pulsometer</li>
<li><a href="firmware/prebuilt.html#the-backpacker">The Backpacker</a>: Simple Clock, Sunrise/Sunset, Temperature, Temperature Log, Blinky Light</li>
<li><a href="firmware/prebuilt.html#the-stargazer">The Stargazer</a>: Simple Clock, Astronomy, Sunrise/Sunset, Moon Phase</li>
<li><a href="firmware/prebuilt.html#deep-space-now">Deep Space Now</a>: Simple Clock, Mars Time, World Clock x3</li>
<li><a href="firmware/prebuilt.html#alttime">alt.time</a>: Simple Clock, Beat Time, Day One</li>
</ul>
<h2 id="movement-standard"><a class="header" href="#movement-standard">Movement Standard</a></h2>
<p><strong>Required Sensor Board:</strong> Temperature Sensor</p>
<p>This is the standard firmware for Movement. It's packed, but not jam-packed: </p>
<ul>
<li>Simple Clock - A basic clock with date for timekeeping.</li>
<li>World Clock - You can configure this with a custom two-letter title and any time zone.</li>
<li>Sunrise/Sunset - Local sunrise and sunset times.</li>
<li>Moon Phase - Tonight's moon phase. (press Alarm to see days in the future)</li>
<li>Temperature - As measured from the temperature sensor board. (Alarm toggles C or F)</li>
</ul>
<p>Download it now: for <a href="firmware/download/standard-green.uf2">Green Boards</a> and <a href="firmware/download/standard-blue.uf2">Blue Boards</a></p>
<p>Try it out: <a href="firmware/simulate/standard/">Sensor Watch Emulator</a></p>
<h2 id="focus"><a class="header" href="#focus">Focus</a></h2>
<p><strong>Required Mod:</strong> Tomato and countdown timer requires soldering the buzzer connector.</p>
<p>For folks who want to use the watch for productivity.</p>
<ul>
<li>Simple Clock - A basic clock with date for timekeeping.</li>
<li>Tomato Timer (by Wesley Ellis) - A productivity timer varietal.</li>
<li>Stopwatch (by Wesley Ellis) - A simple stopwatch with one-second resolution.</li>
<li>Countdown (by Wesley Ellis) - A simple countdown timer for eggs, tea or tasks.</li>
</ul>
<p>Download it now: for <a href="firmware/download/focus-green.uf2">Green Boards</a> and <a href="firmware/download/focus-blue.uf2">Blue Boards</a></p>
<p>Try it out: <a href="firmware/simulate/focus/">Sensor Watch Emulator</a></p>
<h2 id="the-athlete"><a class="header" href="#the-athlete">The Athlete</a></h2>
<p><strong>Required Mod:</strong> Countdown timer requires soldering the buzzer connector.</p>
<p>For folks who want to use the watch for fitness.</p>
<ul>
<li>Simple Clock - A basic clock with date for timekeeping.</li>
<li>Stopwatch (by Wesley Ellis) - It counts up.</li>
<li>Countdown (by Wesley Ellis) - It counts down.</li>
<li>Exercise Counter (by Shogo Okamoto) - Designed for tracking a number of exercises by pressing the Alarm button.</li>
<li>Pulsometer - Hold the Alarm button while touching a vein on your neck, and count 30 beats. Release for your heart rate.</li>
</ul>
<p>Download it now: for <a href="firmware/download/the_athlete-green.uf2">Green Boards</a> and <a href="firmware/download/the_athlete-blue.uf2">Blue Boards</a></p>
<p>Try it out: <a href="firmware/simulate/the_athlete/">Sensor Watch Emulator</a></p>
<h2 id="the-backpacker"><a class="header" href="#the-backpacker">The Backpacker</a></h2>
<p><strong>Required Sensor Board:</strong> Temperature Sensor</p>
<p>This watch face is focused on helping you when out in the backcountry.</p>
<ul>
<li>Simple Clock - A basic clock with date for timekeeping.</li>
<li>Sunrise/Sunset - Local sunrise and sunset times. Don't get caught in the dark!</li>
<li>Moon Phase - Tonight's moon phase. For when the sun fails you.</li>
<li>Temperature - As measured from the temperature sensor board. (Alarm button toggles C or F)</li>
<li>Temperature Log - A 36-hour log. Toss the watch outside your tent to measure overnight lows.</li>
<li>Blinky Light - This will chew through your battery, but could be useful in an emergency.</li>
</ul>
<p>Download it now: for <a href="firmware/download/the_backpacker-green.uf2">Green Boards</a> and <a href="firmware/download/the_backpacker-blue.uf2">Blue Boards</a></p>
<p>Try it out: <a href="firmware/simulate/the_backpacker/">Sensor Watch Emulator</a></p>
<h2 id="the-stargazer"><a class="header" href="#the-stargazer">The Stargazer</a></h2>
<p>For folks who think space is the place!</p>
<ul>
<li>Simple Clock - A basic clock with date for timekeeping.</li>
<li>Astronomy - Calculates altitude, azimuth, right ascension and declination for all planets</li>
<li>Sunrise/Sunset - Local sunrise and sunset times.</li>
<li>Moon Phase - Today's moon phase. (press Alarm to see days in the future)</li>
</ul>
<p>Download it now: for <a href="firmware/download/the_stargazer-green.uf2">Green Boards</a> and <a href="firmware/download/the_stargazer-blue.uf2">Blue Boards</a></p>
<p>Try it out: <a href="firmware/simulate/the_stargazer/">Sensor Watch Emulator</a></p>
<h2 id="deep-space-now"><a class="header" href="#deep-space-now">Deep Space Now</a></h2>
<p>For folks who work in deep space. (no, really!)</p>
<ul>
<li>Simple Clock - A basic clock with date for timekeeping.</li>
<li>Mars Time - Displays Mars Standard Time, or local mean solar time and mission sol for each active mission on Mars.</li>
<li>World Clock - One slot for the ground station in Goldstone (California, USA)</li>
<li>World Clock - One slot for the ground station in Madrid (Spain)</li>
<li>World Clock - One slot for the ground station in Canberra (Australia)</li>
<li>Day One - Counts the number of days from a given date. Try plugging in the start of a mission (i.e. August 20, 1977) to get mission day.</li>
</ul>
<p>Download it now: for <a href="firmware/download/deep_space_now-green.uf2">Green Boards</a> and <a href="firmware/download/deep_space_now-blue.uf2">Blue Boards</a></p>
<p>Try it out: <a href="firmware/simulate/deep_space_now/">Sensor Watch Emulator</a></p>
<h2 id="alttime"><a class="header" href="#alttime">alt.time</a></h2>
<p>For fans of alternative timekeeping systems.</p>
<ul>
<li>Simple Clock - A basic clock with date for timekeeping.</li>
<li>Beat Time (by Wesley Ellis) - AKA Swatch Internet Time, a decimal time standard centered on Switzerland.</li>
<li>Day One - Counts the number of days from a given date. Try plugging in your birthday!</li>
</ul>
<p>I hope to expand this face in the future. (International Fixed Calendar, anyone?)</p>
<p>Download it now: for <a href="firmware/download/alt_time-green.uf2">Green Boards</a> and <a href="firmware/download/alt_time-blue.uf2">Blue Boards</a></p>
<p>Try it out: <a href="firmware/simulate/alt_time/">Sensor Watch Emulator</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sensor-watch-accessory-boards-aka-sensor-boards"><a class="header" href="#sensor-watch-accessory-boards-aka-sensor-boards">Sensor Watch Accessory Boards (aka Sensor Boards)</a></h1>
<p><img src="sensorboards/images/sensor-board.png" alt="Rendering: an L-shaped flex PCB labeled “Sensor Watch Environment”" /></p>
<p>You may have noticed that there are no sensors on this board. That is by design: rather than pick sensors for you, the goal is to add a tiny flexible PCB with the sensors YOU want, and interface them over the nine-pin connector. The connector provides the following options for power and connectivity:</p>
<ul>
<li>3V power (nominal voltage from a CR2016 coin cell, can drop to ~2.7V)</li>
<li>An I²C interface with built-in pull-up resistors</li>
<li>Five general purpose IO pins, which can be configured as:
<ul>
<li>Five analog inputs</li>
<li>Five interrupt-capable digital inputs, with internal pull-up or pull-down resistors</li>
<li>Five digital outputs</li>
<li>SPI controller (with one spare analog / GPIO pin leftover)</li>
<li>One UART TX/RX pair (with three GPIO leftover)</li>
<li>Up to four PWM pins on two independent TC instances</li>
<li>Two external wake inputs that can wake from the ultra-low-power BACKUP mode</li>
</ul>
</li>
</ul>
<table><thead><tr><th style="text-align: center"><strong>Pin</strong></th><th style="text-align: center"><strong>Digital</strong></th><th style="text-align: center"><strong>Interrupt</strong></th><th style="text-align: center"><strong>Analog</strong></th><th style="text-align: center"><strong>I2C</strong></th><th style="text-align: center"><strong>SPI</strong></th><th style="text-align: center"><strong>UART</strong></th><th style="text-align: center"><strong>PWM</strong></th><th style="text-align: center"><strong>Ext. Wake</strong></th></tr></thead><tbody>
<tr><td style="text-align: center"><strong>A0</strong></td><td style="text-align: center">PB04</td><td style="text-align: center">EIC/EXTINT[4]</td><td style="text-align: center">ADC/AIN[12]</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>SCL</strong></td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">SCL<br>SERCOM1[1]</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>SDA</strong></td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">SDA<br>SERCOM1[0]</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>A1</strong></td><td style="text-align: center">PB01</td><td style="text-align: center">EIC/EXTINT[1]</td><td style="text-align: center">ADC/AIN[9]</td><td style="text-align: center">—</td><td style="text-align: center">SCK<br>SERCOM3[3]</td><td style="text-align: center">RX<br>SERCOM3[3]</td><td style="text-align: center">TC3[1]</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>A2</strong></td><td style="text-align: center">PB02</td><td style="text-align: center">EIC/EXTINT[2]</td><td style="text-align: center">ADC/AIN[10]</td><td style="text-align: center">—</td><td style="text-align: center">MOSI<br>SERCOM3[0]</td><td style="text-align: center">TX or RX<br>SERCOM3[0]</td><td style="text-align: center">TC2[0]</td><td style="text-align: center">RTC/IN[1]</td></tr>
<tr><td style="text-align: center"><strong>A3</strong></td><td style="text-align: center">PB03</td><td style="text-align: center">EIC/EXTINT[3]</td><td style="text-align: center">ADC/AIN[11]</td><td style="text-align: center">—</td><td style="text-align: center">CS<br>SERCOM3[1]</td><td style="text-align: center">RX<br>SERCOM3[1]</td><td style="text-align: center">TC2[1]</td><td style="text-align: center">—</td></tr>
<tr><td style="text-align: center"><strong>A4</strong></td><td style="text-align: center">PB00</td><td style="text-align: center">EIC/EXTINT[0]</td><td style="text-align: center">ADC/AIN[8]</td><td style="text-align: center">—</td><td style="text-align: center">MISO<br>SERCOM3[2]</td><td style="text-align: center">TX or RX<br>SERCOM3[2]</td><td style="text-align: center">TC3[0]</td><td style="text-align: center">RTC/IN[0]</td></tr>
</tbody></table>
<p>These tiny “sensor boards” have a set outline, and the available area for your electronics is quite small (5.7 × 5.7 × 1 mm). Still, this is plenty of room for an environmental sensor, MEMS accelerometer or magnetometer and a couple of decoupling capacitors. Note that you will likely be limited to QFN and LGA type parts; SOICs are too large, and even SSOP packages are generally too thick. You can find reference designs for several sensor boards in <a href="https://github.com/joeycastillo/Sensor-Watch/tree/main/PCB/Sensor%20Boards">the PCB/Sensor Boards directory</a> in the Sensor Watch repository.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sensor-watch-temperarure--gpio"><a class="header" href="#sensor-watch-temperarure--gpio">Sensor Watch Temperarure + GPIO</a></h1>
<p>TODO: Document the board.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="movement-the-community-firmware-for-sensor-watch"><a class="header" href="#movement-the-community-firmware-for-sensor-watch">Movement: The Community Firmware for Sensor Watch</a></h1>
<p><em>Movement</em> is an application that manages the display of different screens of content on the watch. These screens are called <em>watch faces</em>. Watch faces can be passive displays of information like a clock or a calendar, or they can be fully interactive user interfaces like the Preferences face, which allows the user to customize Movement's behavior.</p>
<p>Movement handles the instantiation of your watch face and manages transitions between screens. It also provides a low-power sleep mode, triggered after a period of inactivity, to preserve the watch battery.</p>
<p>Several faces are provided that offer baseline functionality like a clock, a settings screen and an interface for setting the time. You can change and reorder the watch faces that Movement displays by editing movement_config.h, and you can write your own watch face using the guidance in this chapter.</p>
<h2 id="sections-todo"><a class="header" href="#sections-todo">Sections (TODO)</a></h2>
<ul>
<li>Writing a watch face for Movement</li>
<li>Contributing to the Community Firmware</li>
<li>Tips and tricks for Movement</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="watch-interface-guidelines-wig"><a class="header" href="#watch-interface-guidelines-wig">Watch Interface Guidelines (WIG)</a></h1>
<p>This document outlines best practices for developing watch faces for Movement, the community firmware for the Sensor Watch. While this is a rather specific scope, many of these concepts will be relevant to writing a bare-metal Sensor Watch app as well. After reading this document, you should have a sense for the hardware capabilities and limitations of Sensor Watch, the kinds of applications that are well-suited to the hardware, and the interaction models that tend to make for a rich and usable watch face.</p>
<p>Before we get to details, there are two major points that underly every piece of guidance in this document:</p>
<h4 id="sensor-watch-is-a-watch"><a class="header" href="#sensor-watch-is-a-watch">Sensor Watch is a watch</a></h4>
<p>You’ll wear Sensor Watch on your wrist, and you’ll interact with it to answer questions about your day and the world around you. “When does the sun set this evening?” “How late is it in Berlin right now?” “What’s the high tide today?” These are the kinds of questions that Sensor Watch can excel at answering quickly and clearly.</p>
<p><img src="wig/images/tide-app.png" alt="Rendering: two screens of a tide prediction app, showing the high tide of 7.7 feet at 7:30 AM" /></p>
<p><em>Example: a tide prediction app, showing the time of the high tide and its predicted height.</em></p>
<p>Even when you add sensors like a thermometer, light sensor or accelerometer, you should think about how your watch face can answer these kinds of simple questions. “How cold was it last night?” “What shutter speed should I use in this lighting?” “Was I active enough today?”</p>
<p>Keeping these prompts simple keeps the focus on the things that Sensor Watch can do well, because:</p>
<h4 id="sensor-watch-is-not-a-smart-watch"><a class="header" href="#sensor-watch-is-not-a-smart-watch">Sensor Watch is not a smart watch</a></h4>
<p>While Sensor Watch can have sensors added to it to measure things like temperature, light or acceleration, it’s not generally designed to synchronize these measurements to another device like a smart phone; in fact, by default, it has no way of syncing data to or from a device. This makes Sensor Watch less well suited to answering complex questions that require external data or a longer data trail; questions like “Will it rain tomorrow” require data the watch does not have, and questions like “How active was I last month?“ may be too complex to answer on a small watch with only a few buttons.</p>
<p>There are three key hardware differences between Sensor Watch and a smart watch:</p>
<ul>
<li>Whereas a smart watch has a high-resolution screen capable of displaying arbitrary graphics, Sensor Watch has a segment LCD with a fixed layout.</li>
<li>Whereas a smart watch generally has a touch screen, Sensor Watch has just three buttons for input: the Light, Mode and Alarm (Wake) buttons.</li>
<li>Whereas a smart watch has powerful processor and a battery that can be recharged daily, Sensor Watch has a much simpler processor, and a battery that must be discarded and replaced.</li>
</ul>
<p>These differences have implications for how a watch face displays content, how the wearer will interact with a watch face, and how the watch face goes about running its logic:</p>
<ul>
<li>You will need to think carefully about how to format the information you want to display and make it work within the constraints of the segment LCD layout.</li>
<li>You will need to make the most of the limited button inputs, especially since all of these buttons have default functions like changing the mode or illuminating the LED.</li>
<li>You must take care to ensure that your watch face does not consume too much battery power. In addition, your watch face must be able to work gracefully with Movement’s low energy mode.</li>
</ul>
<h2 id="road-map"><a class="header" href="#road-map">Road Map</a></h2>
<p>This document is divided into five sections. First, we’ll talk about <a href="wig/bigpicture.html">the “big picture” stuff</a>: some of the concepts you should keep in mind when designing watch faces for Sensor Watch, some of what it does well, and some of what it doesn’t. Next, we’ll have three sections dedicated to each of those three key areas of functionality: the display, the buttons, and the low-power microcontroller. Finally, we’ll bring all of these concepts together to make a very simple watch face that says hello.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="big-picture-stuff"><a class="header" href="#big-picture-stuff">Big Picture Stuff</a></h1>
<p>The Casio F‑91W, the donor watch on which Sensor Watch is based, is one of Casio’s smallest and simplest wristwatch designs. It is designed to show very basic information: the date and time. As we walk through the device’s hardware capabilities, we can see how it is tailored carefully to that use case:</p>
<ul>
<li>It has a small segment liquid crystal display with ten digits.</li>
<li>It has a dim backlight on the left side of the display that mostly illuminates the hours and minutes.</li>
<li>It has a buzzer for firing a single alarm, as well as an hourly alert.</li>
<li>The three buttons on the watch offer very basic inputs:
<ul>
<li>the “Light” button illuminates the watch face,</li>
<li>the “Mode” button cycles through the four modes that the watch offers,</li>
<li>and the “Alarm” button is the only truly multi-function button: it turns the alarms on or off when the alarm face is active, and swaps the main 12/24 hour mode when the main clock is active.</li>
</ul>
</li>
</ul>
<p><img src="wig/images/casio-basics.png" alt="Rendering: a Casio F‑91W displaying the time and date (just after noon on Thursday the 9th)" /></p>
<p>Sensor Watch inherits many of the same hardware limitations of the F‑91W: the screen is small, the layout is designed to display no more than ten characters at a time, and we have only those three buttons to work with (one of which is dedicated to switching modes). This leads to some broad guidelines that will be useful to think about when designing your watch face:</p>
<ul>
<li>Your watch face’s main interface should focus on presenting a single screen of useful information.</li>
<li>If possible, your most important information should appear on the left side of the screen, since the LED will illuminate the left side more brightly than the right.</li>
<li>You should feel free to use every character position and every indicator segment to its maximum potential! You have ten characters to work with; use them to the fullest.</li>
<li>If you have more than one screen of information to display, you should hide it behind a press of either the “Alarm” or “Light” buttons...</li>
<li>...because your watch face should be prepared to resign immediately when the wearer presses the “Mode” button. (More on this in the “buttons” section!)</li>
</ul>
<p>Let’s look at some of the watch faces that come with Sensor Watch to see how these guidelines are implemented in practice.</p>
<h2 id="the-temperature-watch-face"><a class="header" href="#the-temperature-watch-face">The Temperature Watch Face</a></h2>
<p><img src="wig/images/temperature-app.png" alt="Rendering: a temperature display app, showing the curent temperature of 68.7 degrees Fahrenheit" /></p>
<p>This is the Temperature watch face. It displays the current temperature, as read from a thermistor voltage divider on a Sensor Watch accessory board.</p>
<p>This watch face is relatively simple. It's dominated by a single large piece of information: the current temperature. The wearer is able to absorb this information quickly and easily. The temperature data itself is left-justified. If the LED only illuminated the first two digits, the wearer would at least know that the temperature is in the range of 68 degrees. The fractional part, while useful, is not essential to a quick read of the conditions.</p>
<p>Also note that the “signal” indicator segment, used on the main watch face to indicate the status of the hourly beep, is here repurposed to indicate when a new reading is being taken. Don’t be afraid to use these indicators for your own purposes! Whereas the bell indicator might signal that an alarm is enabled on an alarm watch face, you may want to use it to signal an error or warning condition on another face. This is totally fine: the wearer will over time grow familiar with the layout of your watch face, and make the correct associations between icons and concepts.</p>
<p>The temperature display face is relatively simple; let’s take a look at a more complex watch face.</p>
<h2 id="the-temperature-log-watch-face"><a class="header" href="#the-temperature-log-watch-face">The Temperature Log Watch Face</a></h2>
<p><img src="wig/images/temperature-log-app.png" alt="Rendering: a temperature logging app, showing the logged temperature of 68.7 degrees Fahrenheit, and a 0 at the top right" /></p>
<p>This watch face stores a 36-hour log of temperature values, which the wearer can read back to get a sense of high and low temperatures over time. This seems at first glance like it might be a formidable challenge for a watch face with only ten digits, but by thinking carefully about the design, we can fit a lot of information on this small screen.</p>
<p>Let’s revisit the first guideline. This screen displays a useful, information-dense readout of the most recent temperature logged: the “TL” indicates the mode (Temperature Log), and the “0” at the top right indicates that this is the zeroth (i.e. most recent) reading taken. The whole bottom line is dedicated to a large, clear display of the logged temperature.</p>
<p>For clarity, it would be nice for this screen to display not just the index of the temperature reading, but also the time that the temperature reading was taken. There isn’t room for that on the display, but by pressing the “Light” button, the wearer can temporarily move the watch face into a mode that displays the timestamp of the reading:</p>
<p><img src="wig/images/temperature-log-app-timestamp.png" alt="Rendering: Same as before, but a second screen to the right displays “At 12:00” with a 25 at the top right" /></p>
<p>This mode simply displays the timestamp for a second or so — this reading was taken at 12:00 AM on the 25th day of the month — and then returns the wearer to the temperature reading at that timestamp. This is a simple way to stack two aspects of the data point into one screen. If you had multiple aspects (say, temperature, humidity and timestamp) you might consider using the light button to cycle through those three aspects of the data point.</p>
<p>This handles the most recent temperature and timestamp. But what about our 36 hour log? The answer there lies in the other button, the “Alarm” button. Pressing the “Alarm” button moves one index back in the list of readings:</p>
<p><img src="wig/images/temperature-log-app-1.png" alt="Rendering: the app shows a logged temperature of 67.9 degrees Fahrenheit, and a 1 at the top right. To the right, a second screen displays “At 11:00 PM” with a 24 at the top right" /></p>
<p>Once again, we’ve managed to fit more information onto the screen by hiding it behind a button press. The index at the top right makes clear that this is data point 1 (not data point 0), and again, pressing the “Light” button on this screen will display the timestamp for this reading: 11:00 PM on the 24th. Repeated presses of the “Alarm” button move the wearer back in time. At any time, the wearer can press the “Light” button to view the timestamp. And of course, the wearer can press “Mode” at any time to move from the temperature log face to the next face in the list.</p>
<p>Note that while the wearer is likely to develop familiarity with your watch face’s unique visual layout over time, they will likely expect the buttons to behave consistently between watch faces. They will always expect the “Mode” button, for example, to advance the watch face, and for the “Alarm” button to toggle settings or change values. Generally speaking, you should use the “Alarm” button to move through time or advance a value, and use the “Light” button to move between sub-modes within the watch face (and illuminate the LED, as appropriate). The “Time Set” watch face, for example, uses the “Light” button to move between setting the hour, minute and second, and uses the Alarm button to change the value in each field.</p>
<h2 id="wrapping-up"><a class="header" href="#wrapping-up">Wrapping Up</a></h2>
<p>When designing watch face visuals for the Sensor Watch, you should aim to present one screen of content with clarity:</p>
<ul>
<li>Don’t shy from information density; use as many digits and indicators as you need.</li>
<li>Try to fit more crucial information on the left side of the screen, and put less pressing information on the right.</li>
<li>Don’t worry about how segments or digits are used on other watch faces; when your watch face is on screen, you are in control.</li>
</ul>
<p>When designing interactions for the Sensor Watch, you should aim for consistency with other watch faces:</p>
<ul>
<li>Your watch face should resign immediately when the “Mode” button is pressed and pass control to the next watch face in the list.</li>
<li>If your watch face has multiple modes, you should use the “Light” button to toggle or advance through them.</li>
<li>If your watch face presents multiple data points or advances through multiple values, you should use the “Alarm” button to advance through those.</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="the-sensor-watch-display"><a class="header" href="#the-sensor-watch-display">The Sensor Watch Display</a></h1>
<p>Before we talk about the Sensor Watch display, let’s go through some key terminology to clarify our discussion: </p>
<ul>
<li>Segment - A single addressable element on the liquid crystal display</li>
<li>Indicator - A segment like “PM”, “24H” or the bell icon that indicates status</li>
<li>Digit - A grouping of segments that can display a number, character or glyph</li>
<li>Position - The placement of a digit on the display; for example, the first digit at the left of the top row is Position 0</li>
</ul>
<p>We also tend to label the segments of each digit clockwise from the top segment: the top segment is segment A, top right is B, bottom right is C, all the way to the center digit which is segment G:</p>
<p><img src="wig/images/segments-labeled.png" alt="TODO: A diagram of a single digit with its segments labeled" /></p>
<p>In this image of a clock, you can see where the 8 has all segments (A-G) energized. You can display a 1 by energizing only segments B and C, and a 2 by energizing segments A, B, D, E and G.</p>
<p>The Sensor Watch has five indicators, ten digits, and one segment dedicated to the colon in the time display. We choose to number the digits as follows: </p>
<ul>
<li>Positions 0-1 - The digits in the top middle, usually used to display the current mode or the weekday. We can call these the “Weekday” digits.</li>
<li>Positions 2-3 - The digits at the top right, usually used to display the day of the month. The “Day” digits.</li>
<li>Positions 4-9 - The digits on the bottom row, usually used to display the time; the “Clock” digits.
<ul>
<li>Positions 4-5 are normally the hours display.</li>
<li>Positions 6-7 are normally the minutes display.</li>
<li>Positions 8-9 are normally the seconds display, and are slightly smaller than the other digits on the bottom row.</li>
</ul>
</li>
</ul>
<p><img src="wig/images/positions-labeled.png" alt="TODO: A diagram of the F‑91W LCD with positions grouped and labeled" /></p>
<p>As alluded to in the “Big Picture” section, this document is not going to be prescriptive about how you use the digits in these positions; there is no “must” about how you display information on your watch face. Still, there are some broad guidelines on where these digits can be most useful:</p>
<ul>
<li>The “Weekday” digits are particularly useful for displaying alphanumeric information.</li>
<li>The “Day” digits are best for displaying a single number from 0-39, such as a day, an index or a countdown.</li>
<li>The “Clock” digits are well suited for the main informational display of your watch face.</li>
</ul>
<p>You are going to need flexibility to adapt the information you want to display to the Sensor Watch LCD. This section is merely going to walk through some useful patterns, some limitations, and some best practices. </p>
<h2 id="the-weekday-digits"><a class="header" href="#the-weekday-digits">The Weekday Digits</a></h2>
<p>The digits in these first two positions, positions 0 and 1, have some extra segments that make them useful for displaying letters. The stock F‑91W uses these positions to display the day of the week (SU, MO, TU, etc). If you have some alphanumeric information to relay on your watch face, it would make sense to look to these first; the tide prediction concept in the previous section, for example, imagined labeling the displayed prediction with “HT” for high tide and “LT” for low tide.</p>
<p>If you have no data to put in these segments, they can also serve as a useful spot to title your watch face, so that the wearer is clear what information they are looking at. The “Temperature” watch face, for example, uses these digits to display “TE”. This distinguishes it from the “Temperature Log” watch face, which titles itself “TL”.</p>
<p>Note that you are not limited to keeping the same characters in this position the whole time your watch face is on screen! The “Temperature Log” watch face displays “TL” most of the time, but when the wearer enters timestamp mode, it displays the word “AT” in these positions, signaling that the data point was logged “at” the displayed time and date. </p>
<p><img src="wig/images/temperature-log-app-timestamp.png" alt="Rendering: a temperature logging app, showing the logged temperature of 68.7 degrees Fahrenheit, and a 0 at the top right. A second screen to the right displays “At 12:00” with a 25 at the top right" /></p>
<p>Consider: when the wearer presses the “Mode” button and sees the watch face for the first time, “TL” tells them which watch face they are viewing. Once they have that information, they know they will remain in this watch face until they press “Mode” again, so you can feel free to change it after a short delay or in response to a button press. It’s done its job, and given the wearer the context they need to use the watch in the current mode.</p>
<p>Of course, you could use these segments in a completely different way. The LIS2DH accelerometer test face (which we’ll look at a bit later) uses these two positions to indicate the presence of an interrupt on the X or Y axes, lighting up “Y” and/or “X” when an interrupt is asserted, and remaining blank otherwise.</p>
<h3 id="limitations-of-the-weekday-digits"><a class="header" href="#limitations-of-the-weekday-digits">Limitations of the Weekday Digits</a></h3>
<p>On a stock Casio F‑91W, the digits in these two positions normally display one of just nine values: abbreviations for the seven days of the week, the text “AL” for alarm mode, or the text “ST” for stopwatch mode. If you break this down, position 0 will only ever display one of the characters A, F, M, S, T or W, and position 1 will only display the letters A, E, H, L, O, R, T, or U. The Sensor Watch aims to display many more characters in these positions, and in the case of position 0, we can do it! With the exception of an uppercase R, the digit in position 0 can display any character in the Sensor Watch character set.</p>
<p><img src="wig/images/weekday-shared-segments.png" alt="TODO: A diagram of the F‑91W’s Weekday Digits with position’s 1 shared segments highlighted in red." /></p>
<p>Position 1 is a bit more trouble. Looking closely at the position 1 letters above, you’ll notice that segments B/C and E/F never have to operate independently (as they would to, say, display the letter S or the number 2). Thus, to save pins on the LCD, the designers of the F‑91W tied these two pairs of segments together. This means you can only display a limited set of characters in position 1: the letters A, B, C, D, E, F, H, I, J, L, N, O, R, T, U and X, and the numbers 0, 1, 3, 7 and 8.</p>
<p>All of this is to say that you may need to think about terminology that makes sense for your watch face, and tweak it to fit the constraints. For example, the “Settings” watch face requires changing a setting related to Movement’s low power mode, but the ‘P’ in “LP” cannot be displayed in position 1. To address this limitation, the setting is instead called “Low Energy” mode, which abbreviates to “LE”.</p>
<p>The theme of limitations will come up in each of these groups.</p>
<h2 id="the-day-digits"><a class="header" href="#the-day-digits">The Day Digits</a></h2>
<p>On a stock Casio F‑91W, these two digits normally display the day of the month. This makes this position very useful for displaying values from 0-39:</p>
<ul>
<li>The Clock and World Clock face use this area to display the day of the month.</li>
<li>The TOTP watch face uses this area for a 30-second countdown, indicating the validity window for the displayed code</li>
<li>The Temperature Log uses this area to display the index of the logged measurement, from 0 to 35</li>
</ul>
<p><img src="wig/images/day-example.png" alt="TODO: Three watch faces showing these uses." /></p>
<h3 id="limitations-of-the-day-digits"><a class="header" href="#limitations-of-the-day-digits">Limitations of the Day digits</a></h3>
<p>While the digit in position 3 is a full-featured 7-segment display that can display any number and just about any letter, the digit in position 2 is the most limited digit on the watch: it can only display the numbers 1, 2 and 3. This constraint relates to the fact that it is missing one segment (segment F), and that segments A, D and G are all tied together.</p>
<p><img src="wig/images/day-shared-segments.png" alt="TODO: A diagram of the F‑91W’s Weekday Digits with position’s 2 shared segments highlighted in red." /></p>
<p>There’s not much to say about these digits because they are pretty limited: if you have a single letter or a number from 0-39, you can display it here. If not, you can leave these digits blank.</p>
<h2 id="the-clock-digits"><a class="header" href="#the-clock-digits">The Clock Digits</a></h2>
<p>The bottom row of digits, positions 4-9, comprise the clock display on a stock F‑91W. This is the main event: you can display a ton of information here. But before we look at some of the ways we might want to use this display, let’s take a look at some of the subtler properties of these digits:</p>
<p><img src="wig/images/clock-with-without-colon.png" alt="TODO: Two watch faces showing 88:88 88 and 88 88 88." /></p>
<ul>
<li>First, note that the digits in positions 8-9, the seconds, are slightly smaller than the rest. This makes it obvious even without a colon that they are the seconds on a clock.</li>
<li>Next, note the way that the colon separates positions 5 and 6 in the display on the left. This clarifies the separation of the hours and the minutes on the clock.</li>
<li>Now look at the display on the right, where the colon is turned off. Note that in the absence of a colon, these digits are not evenly spaced: there is a gap between them.</li>
</ul>
<p><img src="wig/images/clock-example.png" alt="TODO: Three watch faces: HI: 87.2°, 10 20 30, Sunset." /></p>
<p>These details are useful to keep in mind as you think about the data you want to display, as these subtleties lend themselves to some non-obvious strategies. For example: </p>
<ul>
<li>Consider how the visual weighting of the seconds digits could make them useful for displaying the decimal part of a floating point number, as shown in the display on the left (87.2°).</li>
<li>Also on the left: consider how the colon might be useful both as a separator in a clock display, and as a punctuation mark separating two concepts, like the high temperature label and the measured temperature.</li>
<li>Consider how the spacing of these digits might let you treat this line not as one six-digit display, but as three distinct two-digit displays. For example: 10, 20 and 30 could represent three separate data points in the display in the middle.</li>
<li>Also consider how the wearer’s eye would read across the display if a full word were placed there, as in the display on the right. Do your eyes notice the gap, or does the word “Sunset” read legibly?</li>
</ul>
<p>You saw this guideline before in the “Big Picture” section, but it bears repeating: over time, the wearer will become familiar with the layout of your watch face, so don’t be afraid to use these digits in an unorthodox way.</p>
<h3 id="limitations-of-the-clock-digits"><a class="header" href="#limitations-of-the-clock-digits">Limitations of the Clock digits</a></h3>
<p>As you might have expected, there are some limitations to the clock digits. The first limitation applies to all of them: these are 7-segment displays meant to display numbers, not letters. As such, characters like ‘M’ and ‘W’ are not available; they will render as an ‘N’ or a ‘U’ respectively. Additionally, some letters aren’t available in their preferred case; uppercase ‘R’, for example, will appear as a lowercase ‘r’. Finally, some of these characters may look a bit awkward. ‘K’, for example, requires a little bit of imagination, and ‘X’ requires a lot of imagination; the screens below are meant to display the words “Ranked” and “PIXEL”:</p>
<p><img src="wig/images/clock-ranked-pixel.png" alt="TODO: Two watch faces displaying the words “ranked” and “pixel”" /></p>
<p>The second limitation has to do specifically with digits 4 and 6: the top and bottom segments of these digits (segments A and D) are tied together:</p>
<p><img src="wig/images/clock-shared-segments.png" alt="TODO: The shared segments on the clock display" /></p>
<p>The Sensor Watch display library will try to work around this limitation in some cases. For example, some letters may have their case changed: in displaying the word “Apogee” below, the Sensor Watch will render the “a” in lowercase and the ‘O’ in uppercase — “apOgee” — to work around the constraints on positions 4 and 6. This is because position 4 cannot turn off segment D without also turning off segment A, as would be required for an uppercase ‘A’, and position 6 cannot turn on segment D without also turning on segment A, as would be required for a lowercase ‘o’.</p>
<p><img src="wig/images/clock-apogee.png" alt="TODO: The word “Apogee”, mangled on the left, but displayed correctly on the right" /></p>
<p>Other characters may take on slightly different forms in these positions: for example, a 7 in position 4 or 6 will render as a short “lowercase” 7, and characters that require a segment on the top or bottom may be shifted up or down to make the best use of the position.</p>
<p><img src="wig/images/clock-7-up.png" alt="TODO: Two watch faces: and the word 7-up twice" /></p>
<p>With some extra care, you can sometimes dodge this limitation. In the two screens above, for example, you can see that displaying the name of this popular soft drink in positions 4-7 results in a lowercase 7, and a U that’s shifted up to the top half of the digit. But by shifting it over to positions 5-8, both the 7 and the U get displayed normally.</p>
<p><img src="wig/images/clock-high-tide.png" alt="TODO: “Hi Eide”, “Hi  tid”, “TI HIGH”" /></p>
<p>Note however that in some cases, you cannot dodge this limitation. Letters that can only be displayed by energizing segments A and D independently will not display correctly. In the above example, the lowercase ‘t’ in ‘Hi tide’ will not work in position 4 or 6. It will display as an uppercase E, “Hi Eide”, because segment D also controls the state of segment A. You will have to figure out another way to convey this concept, either by shifting the ‘t’ to a position that can display it, or re-imagining the way the information is presented to the wearer.</p>
<p>Regardless of case, the following characters are fully unsupported in positions 4 and 6: F, K, P, Q, T, X and Y, as well as the underscore and a few other punctuation marks. In addition, the decimal point appears as a hyphen; this may lead to confusion when displaying negative numbers, so you may have to work around this as well.</p>
<h2 id="the-indicator-segments"><a class="header" href="#the-indicator-segments">The Indicator Segments</a></h2>
<p>In addition to the three major segmented display areas, the watch has five indicator segments: “Signal”, “Bell”, “PM”, “24H” and “LAP”. You can energize these indicator segments to convey information or status to the user. In the stock F‑91W, these have some fairly obvious uses: Signal and Bell indicate whether the hourly signal and alarm are active, and PM and 24H relate to the clock display. “LAP” only operates in stopwatch mode, where it indicates when the stopwatch is showing a lap time. Still, when looking at these indicators, you should consider what concepts people might have associated with these icons.</p>
<p><img src="wig/images/indicators.png" alt="TODO: All indicators on" /></p>
<p>The “Signal” indicator takes the form of a series of bars moving from thick to thin. It does convey the sound waves of an hourly indicator, but consider other possible meanings: they could represent radio waves, sensor activity or the reading of data from an accessory board. The Temperature watch face, for example, energizes this segment to indicate that a new reading is being taken from the thermistor.</p>
<p>The “Bell” conveys the concept of an alarm bell, but consider alternate meanings like the presence of a notification or a warning condition. For example, a tide prediction face could energize this segment when high tide is very near — an important thing to know if you are walking along a remote stretch of beach!</p>
<p>The PM indicator has the narrowest use case: if you are displaying a time value that is in the afternoon, you should activate this segment. This guidance also applies to the 24H indicator. Also note that Movement has a global setting that will tell you whether the user has selected 24H mode; you should respect this whenever displaying time values.</p>
<p>Finally, the LAP indicator. This indicator has a very specific meaning for a stopwatch face, and almost no meaning anywhere else. The Stopwatch face uses this segment for its expected use case, but beyond that, it’s not a great semantic fit for most others. Having said that, if you need to indicate a rare warning or error condition, and none of the other indicators are a good fit, the LAP indicator might make sense. For example, the Simple Clock face energizes this segment when a low power condition is detected. It’s awkward, but it works.</p>
<h2 id="putting-it-all-together"><a class="header" href="#putting-it-all-together">Putting It All Together</a></h2>
<p>While the previous sections outlined how each of these bits of the display worked on their own, the fact is, you will mix and match these strategies. We’ve seen how the Temperature and Temperature Log watch faces use the Weekday digits to display their name (TE, TL) and a data point. But a Sunrise/Sunset face could use those characters to display something about the data point: that this is a sunSEt at 5:42 PM on the 5th, and a sunRIse at 6:24 AM on the 6th:</p>
<p><img src="wig/images/sunrise-sunset-example.png" alt="TODO: sunrise/sunset face" /></p>
<p>The accelerometer test face uses all of these areas in a radically different way. It uses the top row to indicate the presence of a Y, X or Z interrupt, and a single digit in the top right to count the last ten seconds to the logging of the next data point. The bottom line counts interrupts per minute, and displays the most recent three minutes’ counts in three two-digit groups on the clock line:</p>
<p><img src="wig/images/accelerometer-example.png" alt="TODO: accelerometer face" /></p>
<p>There’s also nothing that says you have to use these displays for digits at all. Here we imagine using the 12 vertical bars in the clock display to show an activity log over the last 12 hours, where the presence of a short bar indicates some activity in that hour, and a tall bar indicates more. You can imagine toggling this watch face between different timeframes, which could be displayed in the top right: 6/12/24, or 1d/2d/3d.</p>
<p><img src="wig/images/activity-example.png" alt="TODO: activity log face" /></p>
<h2 id="final-notes"><a class="header" href="#final-notes">Final Notes</a></h2>
<p>The Sensor Watch display is both powerful and limited: we can push it to do things that a stock F‑91W couldn’t dream of, but it also inherits some of the limitations inherent to the donor watch. Still, armed with these guidelines, you should feel empowered to build useful and information-rich watch faces. The important things to remember:</p>
<ul>
<li>Keep in mind how the segments are grouped, and think about how you can make the information you want to display fit into those groups.</li>
<li>Be mindful of the limitations of various digits and groups, and prepare to be flexible when naming things or laying out text.</li>
<li>Don’t be afraid of information-dense displays or unorthodox uses of the LCD. The wearer using your watch face will develop a mental model for the information you’re presenting to them.</li>
<li>Use indicators to signal various conditions, and keep in mind creative ways of using them to convey meaning to the wearer.</li>
</ul>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
